<div class="dashboard">
  <header>
    <div class="header-left">
      <h1>Firehawk Car Registry</h1>
      <span class="count-badge">{{ filteredCars.length }} Cars Found</span>
    </div>
    <div class="search-container">
      <span class="search-icon">üîç</span>
      <input 
        type="text" 
        [(ngModel)]="searchTerm" 
        (input)="currentPage = 1" 
        placeholder="Search by make, model, origin..."
      >
    </div>
  </header>

  <div class="table-card">
    <div class="table-wrapper">
      <table>
        <thead>
          <tr>
            <th (click)="setSort('make')" class="col-make sortable">
              <div class="th-content">
                <span>Make</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'make' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'make' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>

            <th (click)="setSort('model')" class="col-model sortable">
              <div class="th-content">
                <span>Model</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'model' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'model' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>

            <th (click)="setSort('mpg')" class="col-data sortable">
              <div class="th-content">
                <span>MPG</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'mpg' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'mpg' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>

            <th (click)="setSort('cylinders')" class="col-data sortable">
              <div class="th-content">
                <span>Cyl</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'cylinders' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'cylinders' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>

            <th (click)="setSort('displacement')" class="col-data sortable">
              <div class="th-content">
                <span>Disp</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'displacement' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'displacement' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>

            <th (click)="setSort('horsepower')" class="col-data sortable">
              <div class="th-content">
                <span>HP</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'horsepower' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'horsepower' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>

            <th (click)="setSort('weight')" class="col-data sortable">
              <div class="th-content">
                <span>Weight</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'weight' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'weight' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>

            <th (click)="setSort('acceleration')" class="col-data sortable">
              <div class="th-content">
                <span>Acc</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'acceleration' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'acceleration' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>

            <th (click)="setSort('year')" class="col-data sortable">
              <div class="th-content">
                <span>Year</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'year' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'year' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>

            <th (click)="setSort('origin')" class="col-origin sortable">
              <div class="th-content">
                <span>Origin</span>
                <div class="sort-indicator">
                  <span class="arrow" [class.highlight]="sortColumn === 'origin' && sortDirection === 'asc'">‚ñ≤</span>
                  <span class="arrow" [class.highlight]="sortColumn === 'origin' && sortDirection === 'desc'">‚ñº</span>
                </div>
              </div>
            </th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let car of paginatedCars">
            <td class="primary-text">{{ car.make }}</td>
            <td class="model-text">{{ car.model }}</td>
            <td>{{ car.mpg }}</td>
            <td>{{ car.cylinders }}</td>
            <td>{{ car.displacement }}</td>
            <td>{{ car.horsepower || '‚Äî' }}</td>
            <td>{{ car.weight | number }}</td>
            <td>{{ car.acceleration }}</td>
            <td>{{ car.year }}</td>
            <td class="origin-text">{{ car.origin }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="table-footer">
      <button class="page-btn" (click)="changePage(currentPage - 1)" [disabled]="currentPage === 1">Previous</button>
      <div class="page-info">Page <strong>{{ currentPage }}</strong> of {{ totalPages }}</div>
      <button class="page-btn" (click)="changePage(currentPage + 1)" [disabled]="currentPage === totalPages">Next</button>
    </div>
  </div>
</div>